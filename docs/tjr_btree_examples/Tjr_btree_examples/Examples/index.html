<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Examples (tjr_btree_examples.Tjr_btree_examples.Examples)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">tjr_btree_examples</a> &#x00BB; <a href="../index.html">Tjr_btree_examples</a> &#x00BB; Examples</nav><h1>Module <code>Tjr_btree_examples.Examples</code></h1><p>The steps to construct an example are:</p><ul><li>fix the monad type (eg store passing)</li><li>construct block ops <span class="xref-unresolved" title="unresolved reference to &quot;Tjr_fs_shared.Block_ops&quot;"><code>Tjr_fs_shared</code>.Block_ops</span>, which converts strings/bytes to/from blks</li><li>construct block device ops <span class="xref-unresolved" title="unresolved reference to &quot;Tjr_fs_shared.Blk_dev_ops_type&quot;"><code>Tjr_fs_shared</code>.Blk_dev_ops_type</span>, which reads and writes to blks</li><li>implement <span class="xref-unresolved" title="unresolved reference to &quot;Bin_prot_marshalling.node_leaf_conversions&quot;"><a href="../index.html#module-Bin_prot_marshalling"><code>Bin_prot_marshalling</code></a>.node_leaf_conversions</span> to convert from list-based leaf/node impls to the efficient leaf/node impls</li><li>implement marshalling procedures via <a href="../Bin_prot_marshalling/index.html"><code>Bin_prot_marshalling</code></a></li><li>calculate constants based on blk_sz and key and value types, and marshalling strategy</li><li>implement blk_allocator_ops, to allow allocation of blks via id</li><li>for every desired combination of (key/value types, marshalling, blk_dev, blk_allocator), use <a href="../../../tjr_btree/Tjr_btree/index.html#disk_to_store"><span>Disk_to_store</span></a> to construct a corresponding store</li><li>then use <span class="xref-unresolved" title="unresolved reference to &quot;Tjr_btree.store_to_map&quot;"><a href="../../../tjr_btree/Tjr_btree/index.html"><code>Tjr_btree</code></a>.store_to_map</span> to convert store to a map (using a root pointer to convert the pre_map_ops to a map_ops)</li></ul><p>FIXME include this documentation in main tjr_btree lib, perhaps as a simple int-&gt;int example</p> 
<img src="https://docs.google.com/drawings/d/e/2PACX-1vSbPmP9hfqwpYdJefrAYVY_7nSf6Mf5kzAXHYEaaAbw6cLwkWJH9GImYG_4KwKRDLOOjDGMvePbodwt/pub?w=1137&amp;h=766"> 

<img src="https://docs.google.com/drawings/d/e/2PACX-1vQXKtsYnp_Z4gUHTpYZOeLrGGIIQxPQrSSgdnoUylAW269ckYBMaUXz9MlDk8aHd1evYCSJNFGpqRFb/pub?w=960&amp;h=720">
<nav class="toc"><ul><li><a href="#abstract-version">Abstract version</a></li><li><a href="#instantiations">Instantiations</a></li></ul></nav></header><div class="spec module" id="module-Internal_print_constants"><a href="#module-Internal_print_constants" class="anchor"></a><code><span class="keyword">module</span> <a href="Internal_print_constants/index.html">Internal_print_constants</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><section><header><h3 id="abstract-version"><a href="#abstract-version" class="anchor"></a>Abstract version</h3></header><div class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Internal"><a href="#module-Internal" class="anchor"></a><code><span class="keyword">module</span> <a href="Internal/index.html">Internal</a> : <span class="keyword">functor</span> (<a href="Internal/argument-1-S/index.html">S</a> : <a href="index.html#module-type-S">S</a>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="instantiations"><a href="#instantiations" class="anchor"></a>Instantiations</h3></header><div class="spec module" id="module-Int_int"><a href="#module-Int_int" class="anchor"></a><code><span class="keyword">module</span> <a href="Int_int/index.html">Int_int</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Ss_ss"><a href="#module-Ss_ss" class="anchor"></a><code><span class="keyword">module</span> <a href="Ss_ss/index.html">Ss_ss</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Ss_int"><a href="#module-Ss_int" class="anchor"></a><code><span class="keyword">module</span> <a href="Ss_int/index.html">Ss_int</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>